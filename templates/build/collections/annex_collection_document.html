{% extends 'base-derk.html' %}
{% load static %}

{% block title_block %}Document Collections{% endblock %}

{% block body_block %}

<style>
.card {
    box-shadow: var(--box-shadow);
    border-radius: 15px;
    overflow: hidden;
}
.card-body {
    padding: 20px;
}
.btn {
    display: inline-flex;
    align-items: center; 
    justify-content: center; 
    color: white;
    padding: 6px 12px;
    background-color: #2bbbad;
    border-radius: 5px;
    text-decoration: none; 
    cursor: pointer;
    transition: background-color 0.3s;
}
.btn:hover {
    background-color: #26a498;
}
</style>

<div class="container-fluid">
    <div class="row justify-content-center align-items-center py-4">
        <div class="col-12 col-lg-9 col-xl-10">
            <div class="card mb-3">
                <div class="card-body m-4">
                <!-- Messages -->
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-success">{{ message }}</div>
                    {% endfor %}
                {% endif %}

                <!-- Section Heading -->
                <h2 class="mb-5 pb-2 pb-md-0 mb-md-4">Document Collections</h2>
                <p>This is your document collection. In this collection, you should plan to put any documentation you think users 
                    of your data might need to understand and use your data. Typically users would expect to find a user guide and/or 
                    supporting documentation in this collection. Helpful movies, graphics, or other non-standard archive formats could 
                    also be here if they helpful for documenting your bundle.</p>
                <hr>

                <!--Document Collection Section-->    
                    <div class="card-body">
                        <form method="post" action="{% url 'build:annex_collection_document' bundle.pk %}">
                            {% csrf_token %}
                            <input type="hidden" name="form_name" value="document_form">
                            {% for field in annex_form_document %}
                                <div class="mb-3">
                                    {{ field.label_tag }}
                                    {{ field }}
                                    {% if field.errors %}
                                        <div class="text-danger">{{ field.errors }}</div>
                                    {% endif %}
                                </div>
                            {% endfor %}
                            <button type="submit" class="btn">Add Document</button>
                            <a href="{% url 'build:collection_additional' bundle.pk %}" class="btn btn-light text-light ms-3">
                                Skip
                                <i class="fa fa-arrow-right ms-2"></i>
                            </a>
                        </form>           
                    </div>

                    <div class="row">
                        {% for document in documents %}
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">{{ document.document_name }}</h5>
                                    <p>Document Title: {{ document.document_title}}</p>
                                    <p>Document Identifier: {{ document.document_id }}</p>
                                    <p>Description: {{ document.description }}</p>
                                    <p>File Name: {{ document.file_name }}</p>
                                    <p>File Format: {{ document.encoding_standard_id }}</p> 
                                    <!--This is from the drop down menu (Probably end up removing this since it's not really an actual field)-->

                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}